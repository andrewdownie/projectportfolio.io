<!DOCTYPE html>
<html lang="en">

<head>

    <!-- ADD PAD -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Demo: AddPad</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">

    <!-- Bootstrap Core CSS -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS
    <link href="css/shop-item.css" rel="stylesheet"> TODO: DELETE THIS-->
    <link href="/css/navbar.css" rel="stylesheet">

    <!-- jQuery -->
    <script src="/js/lib/jquery-2.2.0.min.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="/js/lib/bootstrap.min.js"></script>

    <!-- TO LET STUFF BE DRAGGED AROUND -->
    <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <script>
    $(document).ready(function() {
        var focusElement

        //TODO: change "#addpad-title" to ".addpad #title"
        $('.addpad #title').click(function(e){
            if(typeof(focusElement) === 'undefined'){ return; }
            focusElement.after("<p contenteditable='true' class='title'> title </p>").next("p").focus()
        });

        $('.addpad #text').click(function(e){
            if(typeof(focusElement) === 'undefined'){ return; }
            focusElement.after("<p contenteditable='true'> text </p>").next("p").focus()
        });

        $('.addpad #image').click(function(e){
            if(typeof(focusElement) === 'undefined'){ return; }
            focusElement.after("<img contenteditable='true' style='width: 100%; min-width: 100%;' src='https://picjumbo.imgix.net/HNCK0852.jpg?q=40&w=1650&sharp=30' alt='Image, pls'> </img>").next("img").focus()
        });

        /*Whenever the user clicks, figure out what they clicked. If it was a blog content element,
        save a reference. If not refocus on the last seleted blog element. This way the user can
        keep adding elements to the page, and instead of focusing on the add button they click,
        it will stay focused on the element they selected to add elments after.*/
        $('html').click(function(){
            temp = $('p[contenteditable=true]:focus, img[contenteditable=true]:focus')

            if(typeof(temp) !== 'undefined' && temp.length == 1){
                focusElement = temp
            }
            //else if(typeof(focusElement) !== 'undefined'){
            //    focusElement.focus()
            //}

        });
    });
    </script>

    <style>
        .title{
            font-size: 20px;
        }

        .addpad table {
            border-top: 2px solid white;/*TODO: IE wants this to be 1 px for some reason*/
            border-collapse: collapse;
            border-spacing: 0;

            background-color: white;


        }
        .addpad{
            display: inline-block;
            margin-bottom: 5px;
            /*left: 100px;*/
            /*margin-right: -1px;*/
            /*position: fixed;
            top: 100px;*/
            height: 100%;
            min-width: 122px;
            width: 122px;
            border: black 1px solid;
            border-top: none;
            height: 100%;
        }
        @media (max-width: 767px){
            .addpad{
                margin-bottom: 0px;
            }
        }

        .addpad table tr td button {
            border: none;
            color: black;
            max-width: 40px;
            width: 40px;
            height: 20px;
            max-height: 20px;
            min-height: 20px;
            height: 20px;

            display: block;/*this fixes the 1px at bottom thing*/
        }
        .addpad table tr td button:hover{
            background-color: darkgrey;
        }

        .addpad table tr td button i {
            width: 10px;
        }

        .addpad table tr td {
            text-align: center;
        }

        .addpad table tr td span{
            min-height: 30px;
            height: 30px;
        }

        .addpad table tr td i {
            width: 40px;
            max-width: 40px;
            color: black;
            min-height: 18px;
        }
        /*Addpad title */
        .addpad div{
            padding-left:5px;
            padding-right:5px;
            background-color: black;
            color: white;

        }
        /*Addpad title - hide text selection color*/
        .addpad div span::selection {background-color: transparent;}
        .addpad div span{cursor: default;}
        /**/
        .addpad table tr td span::selection {background-color: transparent;}
        .addpad table tr td::selection {background-color: transparent;}
        .addpad table tr td{cursor: default;}
    </style>
</head>

<body>
    <div class="addpad">
        <div>
            <span>
                Add element
            </span>
        </div>

        <table>
            <!--<tr>
                <td><button id="addpad-title-up" data-toggle="tooltip" title="Add title above currently selected blog element."><i class="fa fa-angle-up"></i></button></td>
                <td><button id="addpad-text-up" data-toggle="tooltip" title="Add text above currently selected blog element."><i class="fa fa-angle-up"></i></button></td>
                <td><button id="addpad-image-up" data-toggle="tooltip" title="Add image above currently selected blog element."><i class="fa fa-angle-up"></i></button></td>
            </tr>-->
            <!-- TODO: remove all the stuff related to the addpad's up buttons-->
            <tr>
                <td><i class="fa fa-header"></i></td>
                <td><i class="fa fa-file-text"></i></td>
                <td><i class="fa fa-picture-o"></i></td>
            </tr>
            <tr>
                <td><span>Title</span></td>
                <td><span>Text</span></td>
                <td><span>Img</span></td>
            </tr>
            <tr>
                <td><button class="hint--right hint--bounce" data-hint="Add title below currently selected blog element." id="title"><i class="fa fa-angle-down"></i></button></td>
                <td><button class="hint--right hint--bounce" data-hint="Add text below currently selected blog element." id="text" title=""><i class="fa fa-angle-down"></i></button></td>
                <td><button class="hint--right hint--bounce" data-hint="Add image below currently selected blog element." id="image" data-toggle="tooltip"><i class="fa fa-angle-down"></i></button></td>
            </tr>
        </table>


    </div>


</body>

</html>
